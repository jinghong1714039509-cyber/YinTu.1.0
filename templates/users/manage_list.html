{% extends "base_site.html" %}
{% block title %}ç”¨æˆ·ä¸æƒé™ç®¡ç†{% endblock %}

{% block content %}
<div class="right_col" role="main">
  <div class="x_panel">
    <div class="x_title">
      <h2>ğŸ‘¥ ç”¨æˆ·è´¦æˆ·ç®¡ç† <small>ä»…ç®¡ç†å‘˜å¯è§</small></h2>
      <div class="clearfix"></div>
    </div>
    <div class="x_content">
      <table class="table table-striped jambo_table">
        <thead>
          <tr class="headings">
            <th>ID</th>
            <th>ç”¨æˆ·å</th>
            <th>è§’è‰² (Role)</th>
            <th>æ³¨å†Œæ—¶é—´</th>
            <th>çŠ¶æ€</th>
            <th class="text-right">æ“ä½œ</th>
          </tr>
        </thead>
        <tbody>
          {% for u in users %}
          <tr>
            <td>{{ u.id }}</td>
            <td>
                <strong>{{ u.username }}</strong>
                {% if u.is_superuser %} <span class="label label-danger">è¶…çº§ç®¡ç†å‘˜</span> {% endif %}
            </td>
            <td>
                {% if u.role == 'hospital' %}
                    <span class="label label-primary">ğŸ¥ åŒ»é™¢/åŒ»ç”Ÿ</span>
                {% elif u.role == 'labeler' %}
                    <span class="label label-success">âœï¸ æ ‡æ³¨å‘˜</span>
                {% else %}
                    <span class="label label-default">æœªå®šä¹‰</span>
                {% endif %}
            </td>
            <td>{{ u.date_joined|date:"Y-m-d H:i" }}</td>
            <td>
                {% if u.is_active %}
                    <span class="text-success"><i class="fa fa-circle"></i> æ­£å¸¸</span>
                {% else %}
                    <span class="text-muted"><i class="fa fa-circle-o"></i> ç¦ç”¨</span>
                {% endif %}
            </td>
            <td class="text-right">
              {% if not u.is_superuser %}
                  <a href="{% url 'users:user_reset' u.id %}" class="btn btn-warning btn-xs" onclick="return confirm('ç¡®å®šå°†å¯†ç é‡ç½®ä¸º 123456 å—ï¼Ÿ')">
                    <i class="fa fa-key"></i> é‡ç½®å¯†ç 
                  </a>
                  <a href="{% url 'users:user_delete' u.id %}" class="btn btn-danger btn-xs" onclick="return confirm('ç¡®å®šåˆ é™¤æ­¤ç”¨æˆ·ï¼Ÿæ•°æ®ä¸å¯æ¢å¤ï¼')">
                    <i class="fa fa-trash"></i> åˆ é™¤
                  </a>
              {% else %}
                  <button class="btn btn-default btn-xs" disabled>ç³»ç»Ÿä¿æŠ¤</button>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      
      <div class="alert alert-info">
          <i class="fa fa-info-circle"></i> æç¤ºï¼šå‡ºäºå®‰å…¨åŠ å¯†è§„åˆ™ï¼Œæ— æ³•ç›´æ¥æŸ¥çœ‹åŸå§‹å¯†ç ã€‚æ‚¨å¯ä»¥ç‚¹å‡»â€œé‡ç½®å¯†ç â€å°†å…¶å¼ºåˆ¶ä¿®æ”¹ä¸ºé»˜è®¤å¯†ç ï¼ˆå¦‚ 123456ï¼‰ï¼Œç„¶åé€šçŸ¥ç”¨æˆ·ç™»å½•ä¿®æ”¹ã€‚
      </div>
    </div>
  </div>
</div>
{% endblock %}